<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="SEBITAM - Sistema de Gestão Acadêmica do Seminário Bíblico Teológico da Amazônia. Gestão de módulos, notas e financeiro.">
    <meta name="keywords" content="SEBITAM, Seminário Bíblico, Teologia, Amazônia, Gestão Acadêmica">
    <meta name="author" content="SEBITAM">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sebitam-app.vercel.app/">
    <meta property="og:title" content="SEBITAM - Sistema de Gestão Acadêmica">
    <meta property="og:description" content="Gestão acadêmica completa para o Seminário Bíblico Teológico da Amazônia.">
    <meta property="og:image" content="./assets/logo.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://sebitam-app.vercel.app/">
    <meta property="twitter:title" content="SEBITAM - Sistema de Gestão Acadêmica">
    <meta property="twitter:description"
        content="Gestão acadêmica completa para o Seminário Bíblico Teológico da Amazônia.">
    <meta property="twitter:image" content="./assets/logo.png">

    <title>SEBITAM - Sistema de Gestão Acadêmica</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="app">
        <!-- Login Screen (Default) -->
        <div id="login-screen" class="login-container">
            <div class="login-card glass">
                <div class="logo-container">
                    <img src="./assets/logo.png" alt="SEBITAM Logo" class="login-logo" id="login-logo-img">
                    <h1>SEBITAM</h1>
                    <p>Seminário Bíblico Teológico da Amazônia</p>
                </div>
                <form id="login-form">
                    <div class="input-group">
                        <label>Usuário ou Email</label>
                        <input type="text" id="username" placeholder="seu.nome@sebitam.com" required>
                    </div>
                    <div class="input-group">
                        <label>Senha</label>
                        <input type="password" id="password" placeholder="••••••••" required>
                    </div>
                    <button type="submit" class="btn-primary" style="width: 100%; margin-top: 1rem;">Entrar</button>
                    <div style="margin-top:1rem; text-align:center; font-size:0.875rem; color:#E8DCC4">
                        Não tem conta? <a href="#" id="show-signup"
                            style="color:#C9A961; text-decoration:none">Cadastre-se</a>
                    </div>
                </form>

                <form id="signup-form" class="hidden">
                    <div class="input-group">
                        <label>Nome Completo</label>
                        <input type="text" id="signup-name" placeholder="Ex: João Silva" required>
                    </div>
                    <div class="input-group">
                        <label>Email</label>
                        <input type="email" id="signup-email" placeholder="email@exemplo.com" required>
                    </div>
                    <div class="input-group">
                        <label>Senha</label>
                        <input type="password" id="signup-password" placeholder="Mínimo 8 caracteres" required>
                    </div>
                    <div class="input-group">
                        <label>Tipo de Conta</label>
                        <select id="signup-role">
                            <option value="student">Aluno</option>
                            <option value="professor">Professor</option>
                            <option value="admin">Administrador (Demo)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-primary" style="width: 100%; margin-top: 1rem;">Cadastrar</button>
                    <div style="margin-top:1rem; text-align:center; font-size:0.875rem; color:#E8DCC4">
                        Já tem conta? <a href="#" id="show-login" style="color:#C9A961; text-decoration:none">Voltar ao
                            Login</a>
                    </div>
                </form>
            </div>
        </div>

        <!-- Main Dashboard (Hidden by default) -->
        <div id="dashboard" class="dashboard-container hidden">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <img src="./assets/logo.png" alt="Logo Small" class="sidebar-logo">
                    <span>SEBITAM</span>
                </div>
                <nav class="sidebar-nav" id="sidebar-nav">
                    <!-- Nav items injected by JS based on role -->
                </nav>
                <div class="sidebar-footer">
                    <button id="logout-btn" class="btn-ghost"><i class="ph ph-sign-out"></i> Sair</button>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <header class="top-bar">
                    <h2 id="page-title">Dashboard</h2>
                    <div class="user-profile" id="user-profile-header">
                        <div style="text-align: right">
                            <span id="user-name">Usuário</span>
                            <p id="user-role-badge"
                                style="font-size: 0.65rem; color: var(--primary-gold); text-transform: uppercase; font-weight: 700; margin-top: 2px">
                                Cargo</p>
                        </div>
                        <div class="avatar">
                            <i class="ph ph-user"></i>
                        </div>
                    </div>
                </header>
                <div id="content-area" class="content-area">
                    <!-- Dynamic Content -->
                </div>
            </main>
        </div>
    </div>

    <!-- Scripts -->
    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- App Scripts (Ordem importa sem módulos) -->
    <script src="js/supabase.js"></script>
    <script src="js/data.js"></script>
    <script src="js/main.js"></script>
</body>

</html>